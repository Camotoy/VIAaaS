<!doctype html>
<!-- insert here online mode auth code with wss -->
<html>
<head>
    <script>
// Global variable to hold the websocket.
var socket = null;

function connect() {
    console.log("Begin connect");
    socket = new WebSocket("wss://" + window.location.host + "/ws");

    socket.onerror = function() {
        console.log("socket error");
    };

    socket.onopen = function() {
        console.log("Connected");
    };

    socket.onclose = function(evt) {
        // Try to gather an explanation about why this was closed.
        var explanation = "";
        if (evt.reason && evt.reason.length > 0) {
            explanation = "reason: " + evt.reason;
        } else {
            explanation = "without a reason specified";
        }

        console.log("Disconnected with close code " + evt.code + " and " + explanation);
        setTimeout(connect, 5000);
    };

    socket.onmessage = function(event) {
        console.log(event.data.toString());
    };
}
connect();
    </script>
</head>
<body>
</body>
</html>