<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="application-name" content="VIAaaS">
    <meta property="og:site_name" content="VIAaaS">
    <meta name="description" content="VIAaaS - ViaVersion as a Service">
    <meta property="og:title" content="VIAaaS - ViaVersion as a Service">
    <meta property="og:description" content="Allows authentication to your premium Minecraft account when using VIAaaS">
    <meta property="og:image" content="https://raw.githubusercontent.com/ViaVersion/ViaVersion/a13c417352298c2269aed8736a76205f0040b705/fabric/src/main/resources/assets/viaversion/textures/squarelogo.png">
    <meta property="og:type" content="game">
    <link rel="icon" href="https://raw.githubusercontent.com/ViaVersion/ViaVersion/a13c417352298c2269aed8736a76205f0040b705/fabric/src/main/resources/assets/viaversion/textures/squarelogo.png">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://cdn.jsdelivr.net/ https://cdnjs.cloudflare.com/ https://alcdn.msauth.net/; img-src data: https://*; connect-src 'self' http://localhost:*/ https: ws: wss:">
    <meta name="referrer" content="no-referrer">
    <!-- only accept http from localhost -->
    <title>VIAaaS - ViaVersion as a Service</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.1/uuid.min.js"></script>
    <script src="https://alcdn.msauth.net/browser/2.0.0-beta.4/js/msal-browser.js"></script>
    <script src="auth_ms.js"></script>
    <style>
        .account_head {
            width: 16px;
        }
        #connection_status {
            background: black;
            color: white;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">VIAaaS</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav nav" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Home</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="accounts-tab" data-bs-toggle="tab" href="#accounts" role="tab" aria-controls="accounts" aria-selected="false">Accounts</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="settings-tab" data-bs-toggle="tab" href="#settings" role="tab" aria-controls="settings" aria-selected="false">Settings</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            About
          </a>
          <ul class="dropdown-menu" aria-labelledby="aboutDropdown">
            <li><a class="dropdown-item" href="https://github.com/ViaVersion/VIAaaS/">Source Code</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container tab-content" id="content">
    <div id="home" class="tab-pane fade show active" role="tabpanel" aria-labelledby="home-tab">
        <p>DO NOT TYPE YOUR CREDENTIALS IF YOU DON'T TRUST THIS VIAAAS INSTANCE OR THE CORS PROXY!</p>
	<p>Mojang API calls in browser are called through a CORS Proxy. See
	    <a href="https://github.com/Rob--W/cors-anywhere">https://github.com/Rob--W/cors-anywhere</a>
	        for setting up one. Calling Mojang API from a remote IP address may block your account.</p>
	<p>WebSocket connection status: <span id="connection_status">?</span></p>
	<hr>
	<p><span id="actions"></span></p>
	<p><span id="listening"></span></p>
    </div>

    <div id="settings" class="tab-pane fade" role="tabpanel" aria-labelledby="settings-tab">
        <div class="mb-3">
          <label for="cors-proxy" class="form-label">CORS Proxy URL</label>
          <input type="url" class="form-control" id="cors-proxy" placeholder="http://localhost:8080/">
        </div>
        <div class="mb-3">
          <label for="ws-url" class="form-label">WebSocket URL</label>
          <input type="url" class="form-control" id="ws-url" placeholder="ws://viaaas.example.com/ws">
        </div>
    </div>

    <div id="accounts" class="tab-pane fade" role="tabpanel" aria-labelledby="accounts-tab">
        <p>Browser Minecraft accounts:</p>
        <div id="accounts-list"></div>
        <hr>
        <div id="add-account">
            <button id="login_submit_ms" type="submit" class="btn btn-primary mb-3">Login with Microsoft</button>
            <hr>
            <div class="mb-3">
              <label for="email" class="form-label">Email/Username</label>
              <input type="text" id="email" name="email" class="form-control" placeholder="example@example.com">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password:</label>
                <input type="password" id="password" name="password" class="form-control" placeholder="password">
            </div>
            <button id="login_submit_mc" type="submit" class="btn btn-primary mb-3">Login with Minecraft</button>
        </div>
    </div>
</div>
<script src="auth.js"></script>
</body>
</html>
